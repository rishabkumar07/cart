(this.webpackJsonpcart=this.webpackJsonpcart||[]).push([[0],{23:function(e,t,a){},28:function(e,t,a){"use strict";a.r(t);var n=a(3),c=a.n(n),o=a(14),r=a.n(o),i=(a(23),a(15)),s=a(16),l=a(18),d=a(17),u={image:{height:170,width:170,borderRadius:4,background:"#ccc"}},m=function(e){var t=e.item,a=t.price,n=t.title,o=t.qty,r=(t.img,e.onIncreaseQuantity),i=e.onDecreaseQuantity,s=e.item,l=e.onDeleteProduct;return c.a.createElement("div",{className:"cart-item"},e.jsx,c.a.createElement("div",{className:"left-block"},c.a.createElement("img",{style:u.image,src:s.img,alt:"products"})),c.a.createElement("div",{className:"right-block"},c.a.createElement("div",{style:{fontSize:25}},n),c.a.createElement("div",{style:{color:"#777"}},"\u20b9",a,"  "),c.a.createElement("div",{style:{color:"#777"}},"Qty : ",o," "),c.a.createElement("div",{className:"cart-item-actions"},c.a.createElement("img",{alt:"increase",className:"action-icons",src:"https://image.flaticon.com/icons/svg/992/992482.svg ",onClick:function(){return r(s)}}),c.a.createElement("img",{alt:"decrease",className:"action-icons",src:" https://image.flaticon.com/icons/svg/992/992514.svg",onClick:function(){return i(s)}}),c.a.createElement("img",{alt:"delete",className:"action-icons",src:" https://image.flaticon.com/icons/svg/3221/3221897.svg",onClick:function(){return l(s.id)}}))))},p=function(e){var t=e.products;return c.a.createElement("div",{className:"cart"},t.map((function(t){return c.a.createElement(m,{item:t,key:t.id,onIncreaseQuantity:e.onIncreaseQuantity,onDecreaseQuantity:e.onDecreaseQuantity,onDeleteProduct:e.onDeleteProduct})})))},g={cartIcon:{height:32,marginRight:20},heading:{marginRight:"50%",fontSize:35},nav:{height:70,background:"#4267b2",display:"flex",justifyContent:"flex-end",alignItems:"center"},cartIconContainer:{position:"relative"},cartCount:{background:"yellow",borderRadius:"55%",padding:"4px 8px",position:"absolute",right:5,top:-9}},h=function(e){return c.a.createElement("div",{style:g.nav},c.a.createElement("h2",{style:g.heading},"My Cart"),c.a.createElement("div",{style:g.cartIconContainer},c.a.createElement("img",{style:g.cartIcon,src:"https://image.flaticon.com/icons/svg/2121/2121815.svg",alt:"cart-icon"}),c.a.createElement("span",{style:g.cartCount},e.count)))},f=a(9),y=function(e){Object(l.a)(a,e);var t=Object(d.a)(a);function a(){var e;return Object(i.a)(this,a),(e=t.call(this)).handleIncreaseQuantity=function(t){var a=e.state.products,n=a.indexOf(t);e.db.collection("products").doc(a[n].id).update({qty:a[n].qty+1}).then((function(){console.log("Document Updated")})).catch((function(e){console.log("Error:",e)}))},e.handleDecreaseQuantity=function(t){var a=e.state.products,n=a.indexOf(t);0!==a[n].qty&&e.db.collection("products").doc(a[n].id).update({qty:a[n].qty-1}).then((function(){console.log("Document Updated")})).catch((function(e){console.log("Error:",e)}))},e.handleDeleteProduct=function(t){e.db.collection("products").doc(t).delete().then((function(){console.log("Deleted successfully")})).catch((function(e){console.log("error",e)}))},e.getCartCount=function(){var t=e.state.products,a=0;return t.forEach((function(e){a+=e.qty})),a},e.getCartTotal=function(){var t=e.state.products,a=0;return t.forEach((function(e){a+=e.price*e.qty})),a},e.state={products:[],loading:!0},e.db=f.a.firestore(),e}return Object(s.a)(a,[{key:"componentDidMount",value:function(){var e=this;this.db.collection("products").onSnapshot((function(t){t.docs.map((function(e){console.log(e.data())}));var a=t.docs.map((function(e){var t=e.data();return t.id=e.id,t}));e.setState({products:a,loading:!1})}))}},{key:"render",value:function(){var e=this.state,t=e.products,a=e.loading;return c.a.createElement("div",{className:"App"},c.a.createElement(h,{count:this.getCartCount()}),c.a.createElement(p,{products:t,onIncreaseQuantity:this.handleIncreaseQuantity,onDecreaseQuantity:this.handleDecreaseQuantity,onDeleteProduct:this.handleDeleteProduct}),a&&c.a.createElement("h1",null,"Loading...."),c.a.createElement("div",{style:v},"Total: \u20b9",this.getCartTotal()))}}]),a}(c.a.Component),v={fontSize:25,padding:20,textAlign:"center",color:"#388e3c",borderTop:"5px dashed #e0e0e0"},E=y;a(27);f.a.initializeApp({apiKey:"AIzaSyBfcp64IwcSwvSkyFe5wIdg_5agLsGz3CQ",authDomain:"cart-e2338.firebaseapp.com",databaseURL:"https://cart-e2338.firebaseio.com",projectId:"cart-e2338",storageBucket:"cart-e2338.appspot.com",messagingSenderId:"952053285777",appId:"1:952053285777:web:13984484c990171ede1030"}),r.a.render(c.a.createElement(c.a.StrictMode,null,c.a.createElement(E,null)),document.getElementById("root"))}},[[28,1,2]]]);
//# sourceMappingURL=main.1ca78bcf.chunk.js.map